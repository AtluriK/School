/* === Optimized Typing Tutor CSS === */

/* Global Reset & Body */
*, *::before, *::after { box-sizing: border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #fefefe;
  margin: 0;
  padding: 0;
  color: #222;
  line-height: 1.5;
  font-size: 1.15rem;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;    
  overflow-x: hidden;    
}

/* Main Layout */
main { 
  max-width: 3840px; 
  min-width: 320px;
  margin: 0 auto; 
  width: 100%; 
  flex-grow: 1; 
  display: flex;
  flex-direction: column;
  gap: clamp(0.25rem, 1vw, 1rem);
}

/* Header */
header h1 { 
  text-align: center; 
  color: #2c3e50; 
  font-weight: 700; 
  font-size: 1rem;
  margin-bottom: 0.25rem;
  letter-spacing: 0.03em; 
}
header p.subtitle { 
  text-align: center; 
  font-size: 1rem;
  color: #555; 
  margin-top: 0; 
  margin-bottom: 0.25rem;
  font-style: italic; 
}

/* Lesson Card */
#lesson-container {
  align-self: center;
  width: 90%;
  max-width: 90%;
  /* padding: clamp(0.5rem, 0.5vw + 0.5vh, 0.5rem); */
  box-sizing: border-box; 
  background: #e8f0fe;
  border-left: 6px solid #2a5db0;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(42, 93, 176, 0.15);
  font-size: clamp(1rem, 2vw + 1vh, 1.15rem);
  text-align: center;
  margin-bottom: 0.25rem;
  transition: all 0.2s ease;
  overflow-x: auto;
}

#lesson {
  display: flex;
  flex-wrap: wrap;       
  justify-content: center; 
  gap: 0.25rem;          
}

#lesson span { 
  font-size: clamp(1.5rem, 3vw + 1vh, 2rem);   
  transition: color 0.2s ease, background 0.2s ease; 
}
#lesson span.current { background-color:#93c5fd; color:#1e40af; border-radius:5px; padding:0.125rem 0.375rem; }
#lesson span.typed { color: #999; text-decoration: line-through; }
#lesson span.remaining { color:#222; }

.instruction {
  font-size: 1rem;
  margin-bottom: 0.25rem;
  font-weight: bold;
}

/* Typing Stats */
#typing-stats {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-evenly;
  font-weight: bold;
  font-size: clamp(0.9rem, 2vw + 0.5vh, 1.2rem);
  width: 90%;
  align-self: center;
  margin-bottom: clamp(0.25rem, 0.25vw, 0.25rem);
  background: #e8f0fe;
  /* padding: clamp(0.5rem, 1vw + 0.5vh, 1rem); */
  border-radius: 10px;
  border-left: 6px solid #2a5db0;
  box-shadow: 0 5px 15px rgba(42, 93, 176, 0.15);
  color: #333;
  box-sizing: border-box;
}


#typing-stats span {
  min-width: 4.5rem;   /* smaller on mobile */
  text-align: center;
  border-radius: 5px;
  padding: 0.1875rem 0.5rem;
  margin-bottom: 0.25rem; /* spacing if wrapped */
}

#typing-stats span .label { font-size: clamp(0.6rem, 1.2vw + 0.3vh, 0.85rem); font-weight: 500; color: #333; }
#typing-stats span .value { font-size: clamp(1rem, 2vw + 0.5vh, 1.35rem); font-weight: 700; color: #1e40af; }

/* Keyboard Card */
#keyboard-container {
  align-self: center;
  width: 90%;
  max-width: 90%;
  padding: clamp(0.4rem, 1vw + 0.25vh, 0.8rem);
  box-sizing: border-box;
  background: #e8f0fe;
  border-left: 6px solid #2a5db0;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(42, 93, 176, 0.15);
  margin: 0 auto 0.25rem;
  overflow-x: auto;
}

/* Keyboard Layout */

#keyboard { 
  display: flex; 
  flex-direction: column; 
  gap: clamp(0.15rem, 0.3vw + 0.1vh, 0.25rem); }

.key-row { 
  display: flex; 
  gap: clamp(0.15rem, 0.3vw + 0.1vh, 0.25rem); 
  justify-content: center; 
  flex-wrap: nowrap; }

.key {
  display:flex; 
  justify-content:center; 
  align-items:center; 
  height:clamp(4rem, 3vw + 1vh, 5rem);
  /* aspect-ratio: 1 / 1;  */
  border-radius:0.5rem; 
  border:1px solid #cbd5e1;
  font-weight:600; 
  font-size:clamp(0.8rem, 1.5vw + 0.5vh, 1.1rem);
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  user-select:none; 
  transition: all 0.2s ease; 
  cursor:default; position:relative;
  padding:clamp(0.15rem, 0.4vw + 0.15vh, 0.35rem); 
  box-shadow:0 0.1875rem 0.375rem rgba(0,0,0,0.08);
  text-align:center; 
  overflow:visible;
}
.key:hover { box-shadow:0 0.3125rem 0.75rem rgba(0,0,0,0.12);}
.key.active { 
  transform: translateY(-0.25rem) scale(1); 
  opacity: 1; 
  box-shadow:0 0 0.5rem rgba(0,0,0,1); border:0.35rem solid #FFFF00; }

/* Finger colors */
.key.pinky { background: #ff6b6b; color: #222; }
.key.ring { background: #ffa94d; color: #222; }
.key.middle { background: #51cf66; color: #222; }
.key.index { background: #339af0; color: #222; }
.key.thumb { background: #868e96; color: #222; }

/* Special keys slightly darker */
.key[data-key="Shift"],
.key[data-key="Enter"],
.key[data-key="Backspace"],
.key[data-key="Tab"],
.key[data-key="CapsLock"],
.key[data-key="Ctrl"],
.key[data-key="Fn"],
.key[data-key="Win"],
.key[data-key="Alt"] { opacity: 0.9; }

/* Key widths */
.key.w50 { width: 3.125rem; } 
.key.w60 { width: 3.75rem; }       /* Fn */
.key.w70 { width: 4.375rem; }      /* Win, Alt, Altgr*/
.key.w75 { width: 5.5rem; }       /* Control */
.key.w80 { width: 6.25rem; }      /* Tab */
.key.w90 { width: 7.625rem; }     /* Capslock */
.key.w100 { width: 6.25rem; }     /* Enter & Back Space*/
.key.w120 { width: 9rem; }        /* Shift */
.key.w150 { width: 9.375rem; }    
.key.w250 { width: 25rem; }       /* Space */

/* Shake animation for wrong key */
@keyframes shake {
  0% { transform: translateX(0); }
  20% { transform: translateX(-3px); }
  40% { transform: translateX(3px); }
  60% { transform: translateX(-3px); }
  80% { transform: translateX(3px); }
  100% { transform: translateX(0); }
}
.key.shake { animation: shake 0.3s; }

/* Progress Bar */
#progress-bar-container {
  width: 100%;
  background: #e8f0fe;
  height: 0.625rem;
  margin-top: 0.25rem;
  border-radius: 0.3125rem;
}
#progress-bar {
  height: 100%;
  width: 0;
  background: #2a5db0;
  border-radius: 0.3125rem;
  transition: width 0.2s ease-in-out;
  box-shadow: inset 0 0.125rem 0.25rem rgba(0,0,0,0.1);
}

/* Finger Legend */
#finger-legend { 
  display: flex;
  flex-wrap: nowrap;
  justify-content: center;    /* center the row(s) */
  align-items: center;
  margin-top: 1rem;
  gap: clamp(0.25rem, 1vw + 0.25vh, 0.5rem);
}
.finger { 
  flex: 1 1 clamp(2.5rem, 8vw + 2vh, 4.375rem);
  max-width: 4.375rem;            /* keeps desktop size */
  min-width: 2rem;            /* very small minimum size */
  aspect-ratio: 1 / 1;        /* keep squares */
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  justify-content: center; 
  border-radius: 0.5rem; 
  color: #222; 
  font-weight: 600; 
  transition: all 0.2s ease; 
  padding: clamp(0.15rem, 1vw + 0.15vh, 0.25rem); 
  text-align: center; 
  box-sizing: border-box;
}


.finger .side { font-size: clamp(0.5rem, 1.5vw + 0.5vh, 0.75rem); font-weight: 700; }
.finger .name { font-size: clamp(0.6rem, 1vw + 0.5vh, 0.875rem); font-weight: 700; text-align:center; word-wrap: break-word; }

.finger.active { transform: translateY(-0.625rem) scale(1.1); opacity:1; 
  box-shadow:0 0 0.5rem rgba(0,0,0,1); border:0.35rem solid #FFFF00;}

/* Finger colors */
.finger.pinky { background: #ff6b6b; } 
.finger.ring { background: #ffa94d; }
.finger.middle { background: #51cf66; }
.finger.index { background: #339af0; }
.finger.thumb { background: #868e96; }

/* Extra gap between thumbs */
#finger-left-thumb { margin-right: 1rem; }
#finger-right-thumb { margin-left: 1rem; }



@media (max-width: 600px)
{
  .key-row {
    gap: 0.1rem; /* reduce spacing between keys */
  }
  .key {
    height: clamp(3rem, 3vw + 1vh, 4rem);
  }
  #keyboard-container {
    padding: 0.2rem;  /* less padding to free up width */
  }

}


